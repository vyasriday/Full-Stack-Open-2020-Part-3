{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Notification.js","services/persons..js","App.js","index.js"],"names":["Filter","value","handleFilter","Fragment","type","onChange","PersonForm","props","onSubmit","handleSubmit","newName","handleName","number","handlePhone","Person","person","handleDelete","name","onClick","Notification","message","className","baseUrl","axios","get","then","response","data","post","id","delete","put","App","useState","persons","setPersons","filteredPersons","setFilteredPersons","setNewName","setNumber","filter","setFilter","successMessage","setSuccessMessage","errorMessage","setErroMessage","find","window","confirm","personsService","catch","err","hideNotification","setTimeout","useEffect","toLowerCase","includes","event","target","preventDefault","some","checkIfNameAlreadyExists","updatedPerson","map","index","key","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b272ea77.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = ({ value, handleFilter }) => {\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<label>Filter shown with</label>\r\n\t\t\t<input type='text' value={value} onChange={handleFilter} />\r\n\t\t</React.Fragment>\r\n\t);\r\n};\r\n\r\nexport default Filter;\r\n","import React from 'react';\r\n\r\nconst PersonForm = (props) => {\r\n\treturn (\r\n\t\t<form onSubmit={props.handleSubmit}>\r\n\t\t\t<div>\r\n\t\t\t\tname:{' '}\r\n\t\t\t\t<input type='text' value={props.newName} onChange={props.handleName} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\tnumber:\r\n\t\t\t\t<input type='text' value={props.number} onChange={props.handlePhone} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<button type='submit'>add</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from 'react';\r\n\r\nconst Person = ({ person, handleDelete }) => (\r\n\t<p>\r\n\t\t{person.name} {person.number}\r\n\t\t<button onClick={handleDelete}>delete</button>\r\n\t</p>\r\n);\r\n\r\nexport default Person;\r\n","import React from 'react';\r\n\r\nconst Notification = ({ message, className }) => (\r\n\t<div className={className}>{message}</div>\r\n);\r\n\r\nexport default Notification;\r\n","import axios from 'axios';\r\n\r\nconst baseUrl = 'https://salty-anchorage-15992.herokuapp.com/api/persons';\r\n\r\nconst getAll = () => axios.get(baseUrl).then((response) => response.data);\r\n\r\nconst addPerson = (person) =>\r\n\taxios.post(baseUrl, person).then((response) => response.data);\r\n\r\nconst deletePerson = (id) =>\r\n\taxios.delete(`${baseUrl}/${id}`).then((response) => response.data);\r\n\r\nconst updatePerson = (id, person) =>\r\n\taxios.put(`${baseUrl}/${id}`, person).then((response) => response.data);\r\n\r\nexport default {\r\n\tgetAll,\r\n\taddPerson,\r\n\tdeletePerson,\r\n\tupdatePerson,\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport Filter from './components/Filter';\r\nimport PersonForm from './components/PersonForm';\r\nimport Person from './components/Person.js';\r\nimport Notification from './components/Notification';\r\nimport personsService from './services/persons.';\r\nimport './index.css';\r\n\r\nconst App = () => {\r\n\tconst [persons, setPersons] = useState([]);\r\n\tconst [filteredPersons, setFilteredPersons] = useState([]);\r\n\tconst [newName, setNewName] = useState('');\r\n\tconst [number, setNumber] = useState('');\r\n\tconst [filter, setFilter] = useState('');\r\n\tconst [successMessage, setSuccessMessage] = useState(null);\r\n\tconst [errorMessage, setErroMessage] = useState(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tpersonsService.getAll().then((persons) => {\r\n\t\t\tsetPersons(persons);\r\n\t\t});\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst filteredPersons = persons.filter((person) =>\r\n\t\t\tperson.name.toLowerCase().includes(filter.toLowerCase())\r\n\t\t);\r\n\t\tsetFilteredPersons(filteredPersons);\r\n\t}, [filter]);\r\n\r\n\tfunction handleName(event) {\r\n\t\tsetNewName(event.target.value);\r\n\t}\r\n\r\n\tfunction handlePhone(event) {\r\n\t\tsetNumber(event.target.value);\r\n\t}\r\n\r\n\tfunction handleSubmit(event) {\r\n\t\tevent.preventDefault();\r\n\t\tif (checkIfNameAlreadyExists(newName, persons)) {\r\n\t\t\tconst shouldUpdateNumber = window.confirm(\r\n\t\t\t\t`${newName} is already added to phonebook, replace the old number with a new one?`\r\n\t\t\t);\r\n\t\t\tif (shouldUpdateNumber) {\r\n\t\t\t\tconst person = persons.find((person) => person.name === newName);\r\n\t\t\t\tconst { id } = person;\r\n\t\t\t\tpersonsService\r\n\t\t\t\t\t.updatePerson(id, { ...person, number })\r\n\t\t\t\t\t.then((updatedPerson) => {\r\n\t\t\t\t\t\tsetPersons(\r\n\t\t\t\t\t\t\tpersons.map((person) =>\r\n\t\t\t\t\t\t\t\tperson.id === id ? updatedPerson : person\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tsetNewName('');\r\n\t\t\t\t\t\tsetNumber('');\r\n\t\t\t\t\t\tsetSuccessMessage(`Updated phone number for ${person.name}`);\r\n\t\t\t\t\t\thideNotification();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tsetSuccessMessage(null);\r\n\t\t\t\t\t\tsetErroMessage(`updating ${newName} failed`);\r\n\t\t\t\t\t\thideNotification();\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst newPerson = {\r\n\t\t\tname: newName,\r\n\t\t\tnumber,\r\n\t\t};\r\n\t\tpersonsService\r\n\t\t\t.addPerson(newPerson)\r\n\t\t\t.then((person) => {\r\n\t\t\t\tsetPersons([...persons, person]);\r\n\t\t\t\tsetNewName('');\r\n\t\t\t\tsetNumber('');\r\n\t\t\t\tsetSuccessMessage(`Added ${newName}`);\r\n\t\t\t\thideNotification();\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetSuccessMessage(null);\r\n\t\t\t\tsetErroMessage(`adding ${newName} failed`);\r\n\t\t\t\thideNotification();\r\n\t\t\t});\r\n\t}\r\n\r\n\tfunction handleFilter(event) {\r\n\t\tsetFilter(event.target.value);\r\n\t}\r\n\r\n\tfunction handleDelete(id) {\r\n\t\tconst person = persons.find((person) => person.id === id);\r\n\t\tconst shouldDelete = window.confirm(`Delete ${person.name}?`);\r\n\t\tif (shouldDelete) {\r\n\t\t\tpersonsService\r\n\t\t\t\t.deletePerson(id)\r\n\t\t\t\t.then((response) => {\r\n\t\t\t\t\tsetPersons(persons.filter((person) => person.id !== id));\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetSuccessMessage(null);\r\n\t\t\t\t\tsetErroMessage(`deleting ${person.name} failed`);\r\n\t\t\t\t\thideNotification();\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tfunction hideNotification() {\r\n\t\tsetTimeout(() => setSuccessMessage(null), 5000);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>Numberbook</h1>\r\n\t\t\t{successMessage && (\r\n\t\t\t\t<Notification message={successMessage} className='success' />\r\n\t\t\t)}\r\n\t\t\t{errorMessage && (\r\n\t\t\t\t<Notification message={errorMessage} className='error' />\r\n\t\t\t)}\r\n\t\t\t<Filter value={filter} handleFilter={handleFilter} />\r\n\t\t\t<h3>Add a new</h3>\r\n\t\t\t<PersonForm\r\n\t\t\t\thandleSubmit={handleSubmit}\r\n\t\t\t\tnewName={newName}\r\n\t\t\t\tnumber={number}\r\n\t\t\t\thandleName={handleName}\r\n\t\t\t\thandlePhone={handlePhone}\r\n\t\t\t/>\r\n\t\t\t<h2>Numbers</h2>\r\n\r\n\t\t\t{filter &&\r\n\t\t\t\tfilteredPersons.map((person, index) => (\r\n\t\t\t\t\t<Person\r\n\t\t\t\t\t\tkey={person.id}\r\n\t\t\t\t\t\tperson={person}\r\n\t\t\t\t\t\thandleDelete={() => handleDelete(person.id)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t\t{!filter &&\r\n\t\t\t\tpersons.map((person, index) => (\r\n\t\t\t\t\t<Person\r\n\t\t\t\t\t\tkey={person.id}\r\n\t\t\t\t\t\tperson={person}\r\n\t\t\t\t\t\thandleDelete={() => handleDelete(person.id)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nfunction checkIfNameAlreadyExists(name, persons) {\r\n\treturn persons.some((person) => person.name === name);\r\n}\r\n\r\nexport default App;\r\n","import React, { useState } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}